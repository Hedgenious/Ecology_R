

# –í–≤–µ–¥–µ–Ω–∏–µ –≤ tidyverse –∏ dplyr –≤ R

## üìå –ß—Ç–æ —Ç–∞–∫–æ–µ `tidyverse`?

**`tidyverse`** ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ R. –û–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ **–±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ —É–¥–æ–±–Ω—ã–º**.

### üî• –ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `tidyverse`?

‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏  
‚úÖ –ú–∏–Ω–∏–º—É–º —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π `base R`  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–π–ø–æ–≤ (`%>%`), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—Ç–∞–µ–º—ã–º  
‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã –∏ –ª–µ–≥–∫–æ –∑–∞–ø–æ–º–∏–Ω–∞—é—Ç—Å—è  
‚úÖ –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞  

### üì¶ –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å `tidyverse`?

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–µ—Å—å –ø–∞–∫–µ—Ç:
```r
install.packages("tidyverse")
```

–ó–∞–≥—Ä—É–∂–∞–µ–º `tidyverse` –≤ R:
```r
library(tidyverse)
```

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–ª—é—á–µ–≤—ã–º –ø–∞–∫–µ—Ç–∞–º, –Ω–æ —Å–µ–π—á–∞—Å –º—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ **`dplyr`**.

---

## üöÄ dplyr: –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏

**`dplyr`** –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (`data.frame` –∏ `tibble`). –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ**.

### üîë –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `dplyr`

| –§—É–Ω–∫—Ü–∏—è       | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|----------|
| `select()`   | –í—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ |
| `filter()`   | –û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ —É—Å–ª–æ–≤–∏—é |
| `mutate()`   | –°–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –∏–∑–º–µ–Ω—è–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ |
| `arrange()`  | –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ |
| `group_by()` | –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ |
| `summarise()` | –°—á–∏—Ç–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º |
| `count()`    | –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ |
| `rename()`   | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ |
| `relocate()` | –ú–µ–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ |

---

## üîπ `select()`: –í—ã–±–æ—Ä –∫–æ–ª–æ–Ω–æ–∫

–§—É–Ω–∫—Ü–∏—è **`select()`** –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –∫–æ–ª–æ–Ω–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã.

üìå **–ü—Ä–∏–º–µ—Ä:** –í—ã–±–∏—Ä–∞–µ–º –∫–æ–ª–æ–Ω–∫–∏ `mpg` (—Ä–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞) –∏ `hp` (–º–æ—â–Ω–æ—Å—Ç—å) –∏–∑ `mtcars`:

```r
mtcars %>% 
  select(mpg, hp)
```

### üõ† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `select()`
- –í—ã–±–∏—Ä–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –ø–æ –∏–Ω–¥–µ–∫—Å—É:
  ```r
  mtcars %>% select(1, 4)
  ```
- –ò—Å–∫–ª—é—á–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏ (`-` –ø–µ—Ä–µ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º):
  ```r
  mtcars %>% select(-c(mpg, hp))
  ```
- –í—ã–±–∏—Ä–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω –∫–æ–ª–æ–Ω–æ–∫:
  ```r
  mtcars %>% select(mpg:hp)
  ```
- –í—ã–±–∏—Ä–∞—Ç—å –ø–æ —à–∞–±–ª–æ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è –Ω–∞ "cyl"):
  ```r
  mtcars %>% select(starts_with("cyl"))
  ```

---

## üîπ `filter()`: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –ø–æ —É—Å–ª–æ–≤–∏—é

–§—É–Ω–∫—Ü–∏—è **`filter()`** –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∑–∞–¥–∞–Ω–Ω–æ–º—É —É—Å–ª–æ–≤–∏—é.

üìå **–ü—Ä–∏–º–µ—Ä:** –í—ã–±–∏—Ä–∞–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ —Å –º–æ—â–Ω–æ—Å—Ç—å—é (`hp`) –±–æ–ª—å—à–µ 100:

```r
mtcars %>% 
  filter(hp > 100)
```

### üõ† –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –≤ `filter()`
- –ù–µ—Å–∫–æ–ª—å–∫–æ —É—Å–ª–æ–≤–∏–π (–ª–æ–≥–∏—á–µ—Å–∫–æ–µ `–ò` ‚Äì `&`):
  ```r
  mtcars %>% filter(hp > 100 & mpg < 20)
  ```
- –õ–æ–≥–∏—á–µ—Å–∫–æ–µ `–ò–õ–ò` (`|`):
  ```r
  mtcars %>% filter(hp > 200 | mpg > 30)
  ```
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤ —Å–ø–∏—Å–∫–µ:
  ```r
  mtcars %>% filter(cyl %in% c(4, 6)) # –¢–æ–ª—å–∫–æ 4- –∏ 6-—Ü–∏–ª–∏–Ω–¥—Ä–æ–≤—ã–µ –º–∞—à–∏–Ω—ã
  ```

---

## üîπ `mutate()`: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫

–§—É–Ω–∫—Ü–∏—è **`mutate()`** –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–ª–∏ –∏–∑–º–µ–Ω—è–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ.

üìå **–ü—Ä–∏–º–µ—Ä:** –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∫–æ–ª–æ–Ω–∫—É `power_to_weight`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏ –∫ –≤–µ—Å—É:

```r
mtcars %>% 
  mutate(power_to_weight = hp / wt)
```

### üõ† –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–∏–µ–º—ã `mutate()`
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–ª–æ–Ω–∫–∏:
  ```r
  mtcars %>% mutate(hp = hp * 2) # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–æ—â–Ω–æ—Å—Ç—å –≤ 2 —Ä–∞–∑–∞
  ```
- –£—Å–ª–æ–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏:
  ```r
  mtcars %>% mutate(type = if_else(hp > 100, "–ú–æ—â–Ω—ã–π", "–°–ª–∞–±—ã–π"))
  ```

---

## üîπ `arrange()`: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫

–§—É–Ω–∫—Ü–∏—è **`arrange()`** –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã.

üìå **–ü—Ä–∏–º–µ—Ä:** –°–æ—Ä—Ç–∏—Ä—É–µ–º `mtcars` –ø–æ —Ä–∞—Å—Ö–æ–¥—É —Ç–æ–ø–ª–∏–≤–∞ (`mpg`) –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é:

```r
mtcars %>% 
  arrange(mpg)
```

### üõ† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `arrange()`
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é (`desc()`):
  ```r
  mtcars %>% arrange(desc(mpg))
  ```
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–ª–æ–Ω–∫–∞–º:
  ```r
  mtcars %>% arrange(desc(hp), mpg)
  ```

---

## üîπ `group_by()` + `summarise()`: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ß–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω–∏–µ, —Å—É–º–º—ã –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º.  
–ò—Å–ø–æ–ª—å–∑—É–µ–º **`group_by()`** (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞) + **`summarise()`** (–ø–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏).

üìå **–ü—Ä–∏–º–µ—Ä:** –ü–æ—Å—á–∏—Ç–∞–µ–º —Å—Ä–µ–¥–Ω—é—é –º–æ—â–Ω–æ—Å—Ç—å (`hp`) –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤ (`cyl`):

```r
mtcars %>% 
  group_by(cyl) %>% 
  summarise(avg_hp = mean(hp, na.rm = TRUE))
```

### üõ† –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `summarise()`
- `mean()` ‚Äì —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ  
- `median()` ‚Äì –º–µ–¥–∏–∞–Ω–∞  
- `sd()` ‚Äì —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ  
- `n()` ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –≥—Ä—É–ø–ø–µ  

üìå **–ü—Ä–∏–º–µ—Ä:** –î–æ–±–∞–≤–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—à–∏–Ω (`n()`) –≤ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ:

```r
mtcars %>% 
  group_by(cyl) %>% 
  summarise(avg_hp = mean(hp), count = n())
```

---

## üîπ `count()`: –ü–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ —É–∑–Ω–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –≤ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **`count()`**.

üìå **–ü—Ä–∏–º–µ—Ä:** –ü–æ—Å—á–∏—Ç–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—à–∏–Ω –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤ (`cyl`):

```r
mtcars %>% 
  count(cyl)
```

---

## üîπ `rename()`: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫

–§—É–Ω–∫—Ü–∏—è **`rename()`** –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫.

üìå **–ü—Ä–∏–º–µ—Ä:** –ü–µ—Ä–µ–∏–º–µ–Ω—É–µ–º `mpg` –≤ `mileage`:

```r
mtcars %>% 
  rename(mileage = mpg)
```

---

## üîπ `relocate()`: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫

–§—É–Ω–∫—Ü–∏—è **`relocate()`** –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫.

üìå **–ü—Ä–∏–º–µ—Ä:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏–º `hp` –≤ –Ω–∞—á–∞–ª–æ:

```r
mtcars %>% 
  relocate(hp, .before = mpg)
```

# üîπ –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü —Å `tidyr`

–í –∞–Ω–∞–ª–∏–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º—É —Ç–∞–±–ª–∏—Ü, –ø–µ—Ä–µ–≤–æ–¥—è –∏—Ö –∏–∑ **—à–∏—Ä–æ–∫–æ–≥–æ** —Ñ–æ—Ä–º–∞—Ç–∞ –≤ **–¥–ª–∏–Ω–Ω—ã–π** –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç. –î–ª—è —ç—Ç–æ–≥–æ –≤ –ø–∞–∫–µ—Ç–µ `tidyr` –µ—Å—Ç—å –¥–≤–µ –º–æ—â–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- **`pivot_longer()`** ‚Äì –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ **—à–∏—Ä–æ–∫–æ–≥–æ** —Ñ–æ—Ä–º–∞—Ç–∞ –≤ **–¥–ª–∏–Ω–Ω—ã–π**  
- **`pivot_wider()`** ‚Äì –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ **–¥–ª–∏–Ω–Ω–æ–≥–æ** —Ñ–æ—Ä–º–∞—Ç–∞ –≤ **—à–∏—Ä–æ–∫–∏–π**  

–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö. 

---

### üìå `pivot_longer()`: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –¥–ª–∏–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –¥–∞—Ç–∞—Ñ—Ä–µ–π–º —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞—Ö –ø–æ –º–µ—Å—è—Ü–∞–º:

```r
library(tidyverse)

temperature_data <- tibble(
  city = c("–ú–æ—Å–∫–≤–∞", "–õ–æ–Ω–¥–æ–Ω", "–¢–æ–∫–∏–æ"),
  Jan = c(-5, 4, 6),
  Feb = c(-3, 5, 7),
  Mar = c(2, 9, 10)
)

temperature_data
```

üìä **–¢–µ–∫—É—â–∏–π (—à–∏—Ä–æ–∫–∏–π) —Ñ–æ—Ä–º–∞—Ç:**
| city   | Jan  | Feb  | Mar  |
|--------|------|------|------|
| –ú–æ—Å–∫–≤–∞ | -5   | -3   | 2    |
| –õ–æ–Ω–¥–æ–Ω | 4    | 5    | 9    |
| –¢–æ–∫–∏–æ  | 6    | 7    | 10   |

–≠—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç –Ω–µ—É–¥–æ–±–µ–Ω, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –ø–æ –º–µ—Å—è—Ü–∞–º. –ù—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ **–¥–ª–∏–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç**, –≥–¥–µ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π.

üìå **–ò—Å–ø–æ–ª—å–∑—É–µ–º `pivot_longer()`**:

```r
temperature_long <- temperature_data %>% 
  pivot_longer(cols = Jan:Mar, 
               names_to = "month", 
               values_to = "temperature")

temperature_long
```

üìä **–ü–æ—Å–ª–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (–¥–ª–∏–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):**
| city   | month | temperature |
|--------|-------|------------|
| –ú–æ—Å–∫–≤–∞ | Jan   | -5         |
| –ú–æ—Å–∫–≤–∞ | Feb   | -3         |
| –ú–æ—Å–∫–≤–∞ | Mar   | 2          |
| –õ–æ–Ω–¥–æ–Ω | Jan   | 4          |
| –õ–æ–Ω–¥–æ–Ω | Feb   | 5          |
| –õ–æ–Ω–¥–æ–Ω | Mar   | 9          |
| –¢–æ–∫–∏–æ  | Jan   | 6          |
| –¢–æ–∫–∏–æ  | Feb   | 7          |
| –¢–æ–∫–∏–æ  | Mar   | 10         |

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–º—É –≥–æ—Ä–æ–¥—É –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Å—è—Ü —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.

### üõ† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `pivot_longer()`?
- **`cols = Jan:Mar`** ‚Äì —É–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–æ–ª–±—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤ —Å—Ç—Ä–æ–∫–∏  
- **`names_to = "month"`** ‚Äì —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∫–æ–ª–æ–Ω–∫—É `month`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–µ–≤  
- **`values_to = "temperature"`** ‚Äì —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∫–æ–ª–æ–Ω–∫—É `temperature`, –∫—É–¥–∞ –±—É–¥—É—Ç –∑–∞–ø–∏—Å–∞–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è  

---

### üìå `pivot_wider()`: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —à–∏—Ä–æ–∫–∏–π —Ñ–æ—Ä–º–∞—Ç

–¢–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å **–¥–ª–∏–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç**, –∏ –º—ã —Ö–æ—Ç–∏–º –≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ –≤ **—à–∏—Ä–æ–∫–∏–π —Ñ–æ—Ä–º–∞—Ç**.

üìå **–ò—Å–ø–æ–ª—å–∑—É–µ–º `pivot_wider()`**:

```r
temperature_wide <- temperature_long %>% 
  pivot_wider(names_from = month, values_from = temperature)

temperature_wide
```

üìä **–ü–æ—Å–ª–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (—à–∏—Ä–æ–∫–∏–π —Ñ–æ—Ä–º–∞—Ç):**
| city   | Jan  | Feb  | Mar  |
|--------|------|------|------|
| –ú–æ—Å–∫–≤–∞ | -5   | -3   | 2    |
| –õ–æ–Ω–¥–æ–Ω | 4    | 5    | 9    |
| –¢–æ–∫–∏–æ  | 6    | 7    | 10   |

### üõ† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `pivot_wider()`?
- **`names_from = month`** ‚Äì —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ `month`  
- **`values_from = temperature`** ‚Äì –∑–∞–ø–æ–ª–Ω—è–µ–º –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ `temperature`  

---

## üî• –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pivot_longer()` –∏ `pivot_wider()`?

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º `pivot_longer()`**, –µ—Å–ª–∏:  
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—É –≤ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–π —Ñ–æ—Ä–º–∞—Ç (—É–¥–æ–±–Ω—ã–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤)  
- –î–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö, –Ω–æ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π  

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º `pivot_wider()`**, –µ—Å–ª–∏:  
- –ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–π –¥–ª—è —á—Ç–µ–Ω–∏—è  
- –ù—É–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏  

### üöÄ –ò—Ç–æ–≥
–° –ø–æ–º–æ—â—å—é `pivot_longer()` –∏ `pivot_wider()` –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ø–æ–¥ –Ω—É–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑. –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–º–æ–≥–∞—é—Ç –¥–µ–ª–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º–∏ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. üî•
