# Детальное Руководство по Занятию 2 [23.01.2025]

## 1. Введение: Цели и Задачи Занятия

### 1.1. Основные Цели Занятия:
   - **Освоить "Машинно-Человеческий" Язык:**
        *   На этом занятии мы начнем учиться "говорить" на языке, который понятен и человеку, и машине. Это подразумевает способность читать, понимать и интерпретировать команды программирования на языке R.
        *   Была приведена аналогия с изучением иностранного языка. Необходимо не просто запоминать команды, а понимать их смысл и логику.
        *   Ключевой акцент делался на *понимании* команд, а не их механическом заучивании.
   - **Формирование Культуры Написания Кода:**
        *   Цель - писать код, который будет не только работать, но и будет понятен вам самим в будущем, а также другим людям, которые могут работать с вашим кодом.
        *   Это включает в себя выбор стиля именования переменных, таблиц, функций, а также соблюдение определенных правил форматирования (пробелы, регистр и т.д.).
        *   Преподаватель подчеркнул, что код должен быть *читаемым*, *структурированным* и *легко сопровождаемым*.

### 1.2. Задачи на Занятие (конкретные шаги к достижению целей):
   - **Использовать Шпаргалку для Перевода:**
        *   Применять специальную шпаргалку, разработанную преподавателем, чтобы переводить сокращенные команды (например, `getwd`) в полные английские фразы (`Get Working Directory`).
   -  **Пополнить "Словарь" Полными Командами:**
        *   Формировать в голове "словарь" из *полных* английских команд, вместо того чтобы запоминать сокращения. Это поможет вам понимать смысл каждой команды, а не просто её набор символов.
   - **Освоить Принципы Именования:**
        *   Выработать и начать применять принципы именования переменных, таблиц, и функций. Например, можно договориться, что названия таблиц будут начинаться с заглавной буквы, а имена переменных - со строчной.
   - **Отметить Регистрозависимость:**
        *  Запомнить, что язык R является регистрозависимым. Это означает, что переменные `var` и `VAR` – это *совершенно разные* переменные.
   - **Понимать Философию Оператора Присваивания:**
        *   Углубиться в понимание того, как работает оператор присваивания `<-`, и почему именно его, а не знак равно, нужно использовать в R (подробности ниже).

## 2. Повторение Пройденного Материала: Оператор Присваивания

### 2.1. Оператор Присваивания (`<-`):
    - **Назначение:** Оператор присваивания используется для передачи значений (данных) *переменным*. То есть он говорит компьютеру: "возьми вот это значение и помести его в эту переменную".
    - **Синтаксис:** В R оператор присваивания записывается как `<-`.
       -  Для набора `<-` нужно нажать клавишу `Alt` два раза и затем `дефис` (`-`).
    -  **Соответствие английскому слову:** Оператор присваивания соответствует английскому слову "assign" – "присвоить".
    -  **Рекомендация по использованию:** Преподаватель рекомендовал *не использовать* знак равно `=` вместо оператора `<-`.
         - Знак равно также может работать в некоторых контекстах, но использование `<-` в R считается хорошим стилем программирования и помогает избегать путаницы.
    - **Философия стрелки:**
        - Стрелка `<-` визуально представляет направление потока данных: значение (справа от стрелки) присваивается переменной (слева от стрелки). Это помогает понять, что данные "направляются" в переменную.
        -  Преподаватель отмечал, что хотя можно использовать стрелочку в другом направлении (`->`), этого делать не рекомендуется.

## 3. Практическая Работа в RStudio: Переменные и Типы Данных

### 3.1. Создание Переменных:
  - **Место Хранения:** Созданные вами переменные (объекты) *сохраняются* в так называемом "Environment" (локальной среде) RStudio. Эта среда - что-то вроде оперативной памяти компьютера.
  -  **Выполнение Кода:** Для выполнения кода (например, создания переменной) используйте сочетание клавиш `Ctrl + Enter` (не просто `Enter`).
       -  Это отправит вашу команду в консоль и выполнит ее.
  -  **Пример создания числовой переменной:**
     ```r
      var_1 <- 5
     ```

### 3.2. Просмотр Переменных в "Environment":
   - **Расположение:** Панель "Environment" обычно находится справа вверху в окне RStudio.
   - **Варианты Отображения:** Есть два варианта отображения переменных: `List` и `Grid`.
        - **`List` (Список):** Показывает переменные в простом списке, без подробностей.
        - **`Grid` (Сетка):** Показывает переменные в виде таблицы, предоставляя *полную* информацию:
              - Имя переменной
              - Тип данных
              - Длина
              - Размер в байтах
              - Значение переменной
        - **Рекомендация:** Преподаватель рекомендовал использовать режим `Grid`, поскольку он предоставляет больше информации.

### 3.3. Типы Данных в R:
  1.  **`numeric` (Числовой):**
     -   **Назначение:** Используется для хранения чисел (целых и дробных).
     -   **Присваивание:** По умолчанию, если переменной присваивается числовое значение (например, `5`), R автоматически присваивает ей тип `numeric`.
     -   **Пример:** `var_1 <- 5`
  2.  **`character` (Текстовый):**
     -  **Назначение:**  Используется для хранения текста (строк символов).
     -  **Присваивание:** Для того, чтобы присвоить переменной текстовое значение, его нужно заключить в кавычки (можно использовать как двойные `"`, так и одинарные `'`).
     -  **Пример:** `var_2 <- "Cat"`
         -  Обратите внимание, что кавычки являются частью синтаксиса языка R, и они не сохраняются вместе с текстом в переменной.
  3.  **`logical` (Логический):**
     -  **Назначение:** Используется для хранения логических значений, то есть `TRUE` (истина) или `FALSE` (ложь).
     -   **Присваивание:** Логическим переменным можно присваивать значения `TRUE` или `FALSE` (или их сокращения `T` и `F`).
     -   **Рекомендация:** Преподаватель рекомендовал использовать *полные* слова `TRUE` и `FALSE` для лучшей читаемости кода.
     -   **Пример:** `var_3 <- TRUE`, `var_4 <- FALSE`
  4.  **`factor` (Факторный):**
     -  **Назначение:**  Факторный тип данных используется для представления *категориальных* переменных (например, пол, возрастная группа, вид).
         -   У таких переменных есть уровни (например, "мужской" и "женский" для пола).
     -   **Особенности:**  Факторные переменные не являются ни числовыми, ни текстовыми. Они представляют собой набор *уровней* (категорий).
     -   **Подробности:** Подробности о факторных переменных будут рассматриваться на следующих занятиях.

### 3.4. Функция `class()`:
   -  **Назначение:** Функция `class()` позволяет определить *тип* переменной.
   -  **Использование:** Функция принимает имя переменной в качестве аргумента и возвращает её тип в консоль.
   -   **Пример:**
      ```r
      class(var_1) # Возвращает "numeric"
      class(var_2) # Возвращает "character"
      ```
   -  **Полезность:** Функция `class()` становится особенно полезной, когда вы работаете с большим количеством переменных, и просматривать их типы в "Environment" становится неудобно.

### 3.5. Размер Переменных в Памяти:
    - **Влияние Типа Данных:** Преподаватель отметил, что переменные разных типов данных *занимают разное количество памяти*.
        - Например, текстовая переменная может занимать больше памяти, чем числовая, из-за необходимости хранить символы.
    - **Влияние Других Факторов:** На размер переменной также влияет её имя и её *метаданные* (то есть данные о данных) , такие как:
          - Тип данных (класс)
          - Длина
          - и другие внутренние параметры, которые R использует для управления переменными.

## 4. Работа с Ошибками: Извлечение Полезной Информации

### 4.1. Ошибки как Источник Информации:
   - **Не Бояться Ошибок:** Преподаватель неоднократно подчеркивал, что *ошибки - это не страшно*.
       -   Ошибки являются неотъемлемой частью процесса обучения программированию.
   - **Информационная Ценность:** Ошибки – это *источники информации*, которые сообщают вам о том, где в коде есть проблемы.
       -  Их нужно *читать* и *анализировать*, чтобы понять, что именно пошло не так.
   - **Пример Ошибки:** Например, если вы попытаетесь использовать переменную, которую вы не создали (например, `var_5`), R выдаст ошибку "object 'var_5' not found" – это означает, что R не знает, что такое `var_5`.

### 4.2. Консоль:
  -  **Отображение Хода Выполнения:** Консоль в RStudio отображает *ход выполнения* кода, а также выводит *сообщения об ошибках*.
   - **Очистка от Плюсика:** Если в консоли после выполнения кода появляется плюсик (`+`), это значит, что R ожидает дальнейшего ввода. Чтобы *убрать* этот плюсик, нужно нажать клавишу `Escape`.

## 5. Арифметические Операции и Работа с Логическими Значениями

### 5.1. Сложение с Числом:
   -  **Пример:** Преподаватель продемонстрировал, как можно складывать переменную с числом.
      ```r
      var_1 + 10 # 5 + 10 = 15
      ```

### 5.2. Попытка Сложения с Текстовой Переменной:
    -  **Пример:** Если попытаться сложить числовую переменную (`var_1`) с текстовой переменной (`var_2`), R выдаст *ошибку*.
       ```r
       var_1 + var_2 # Ошибка
      ```
      - R скажет вам, что был использован нечисловой аргумент в арифметической операции. Это означает, что нельзя складывать число и текст.

### 5.3. Сложение с Логическими Значениями:
   - **Интерпретация:** R интерпретирует логические значения (`TRUE` и `FALSE`) как числа при арифметических операциях: `TRUE` = 1, `FALSE` = 0.
   - **Примеры:**
     ```r
     var_1 + var_3 # 5 + 1 = 6
     var_1 + var_4 # 5 + 0 = 5
    ```

### 5.4. Вызов Переменных:
    -  **Простой Вызов:** Чтобы просто посмотреть значение переменной, достаточно набрать её имя в коде и выполнить строку (`Ctrl + Enter`). R выведет значение в консоли.

## 6. Создание Групп Объектов (Векторов)

### 6.1. Функция `c()` (combine):
  - **Назначение:** Функция `c()` позволяет объединять несколько объектов (например, числа, строки) в *вектор*.
       - Вектор – это одномерный список, содержащий несколько элементов одного типа.
   -   **Пример:**
    ```r
     c(1, 2, 3, 4, 5)
    ```
       -  Эта команда создаст вектор, содержащий числа 1, 2, 3, 4 и 5.
   -   **Принадлежность:** Функция `c()` является базовой функцией R (base R), то есть она всегда доступна и не требует установки никаких дополнительных пакетов.

### 6.2. Функции `rep()` и `seq()` для создания векторов:
   - **Функция `rep()` (repeat):**
        -  **Назначение:** Функция `rep()` используется для *повторения* значения или вектора несколько раз.
        -  **Аргументы:**
            - `x`: Значение или вектор, который нужно повторить.
            - `times`: Количество раз, которое нужно повторить `x`.
            - `each`: Количество раз, которое нужно повторить каждый элемент `x` по отдельности.
        -  **Примеры:**
             ```r
             rep("медведь", times = 3)     # Создаст вектор: "медведь" "медведь" "медведь"
             rep(1:3, times = 2)          # Создаст вектор:  1 2 3 1 2 3
             rep(1:3, each = 2)           # Создаст вектор:  1 1 2 2 3 3
             ```
   - **Функция `seq()` (sequence):**
        -  **Назначение:** Функция `seq()` используется для создания *последовательностей* чисел.
        -  **Аргументы:**
             - `from`: Начальное число последовательности.
             - `to`: Конечное число последовательности.
             - `by`: Шаг последовательности.
        - **Примеры:**
            ```r
             seq(from = 1, to = 10, by = 2)    # Создаст вектор: 1 3 5 7 9
             1:100                             # Создаст вектор: 1 2 3 ... 100
            ```
       -   Оператор `:`  (двоеточие) – это сокращенный способ задать последовательность с шагом 1 (аналог `seq(from = 1, to = 100, by = 1)`).
       
       
### 7. Создание data.frame

- **`data.frame()`:** Функция для создания таблиц, состоящих из векторов.
-  **Пример:**
   ```r
    bear_names <- rep("bear", times = 5)
    numbers <- 1:5
    my_data <- data.frame(bears = bear_names, values = numbers)
   ```
    -  Эта команда создает `data.frame` с двумя колонками: `bears` (со значениями "bear") и `values` (с числами от 1 до 5).
    -  Каждая колонка в `data.frame` - это вектор.
    -  Векторы должны быть одинаковой длины.

## 8. Работа с RStudio: Практические Советы

### 8.1. Двойной Клик для Выделения:
    - **Быстрое Выделение:**  Если вы дважды кликните мышкой на имя переменной в вашем скрипте, RStudio *выделит* эту переменную *везде*, где она используется в вашем коде.
        -  Это очень удобно для быстрого копирования или выделения переменных.

### 8.2. Выделение и Выполнение Кода:
  - **Выборочное Выполнение:** Вы можете выделить нужные вам фрагменты кода в скрипте (это может быть одна строка или несколько строк) и выполнить их, нажав `Ctrl + Enter`.
   - **Цель:**  Это удобно для отладки кода (то есть нахождения и исправления ошибок) и для просмотра промежуточных результатов (значений переменных) в процессе выполнения.

### 8.3. Горячие Клавиши (Сочетания Клавиш):
   - `Ctrl + Enter`: Выполнение выделенной строки (или текущей строки, если ничего не выделено).
   - `Ctrl + Shift + N`: Создание нового скрипта (нового файла для кода), N - "new".
   - `Escape`: Выход из режима ожидания (плюсик в консоли).
   - `Ctrl + +` (Ctrl и плюс) / `Ctrl + -` (Ctrl и минус): Увеличение и уменьшение масштаба текста в редакторе.

## 9. Шпаргалка "base_R.pdf"

### 9.1. Важность Шпаргалки:
    - **Инструмент Изучения:** Шпаргалка "base R" – это очень важный инструмент для изучения базовых команд языка R.
    -  **Поиск Команд:** Преподаватель подчеркнул, что шпаргалку нужно активно использовать для поиска нужных команд и их описания.
    -  **Отсутствие Русской Версии:** Преподаватель отметил, что он пытался найти русскую версию шпаргалки, но не нашел, поэтому необходимо использовать оригинальный англоязычный документ.
    -  **Самостоятельное Изучение:** Студентам необходимо самостоятельно *изучать* команды, представленные в шпаргалке, при подготовке к занятиям.

## 10. Заключение и Важные Выводы

### 10.1. Ключевые Моменты:
  - **Не Бояться Ошибок:** Ошибки – это *нормальная часть процесса обучения*. Их нужно использовать для того, чтобы понять, где есть проблемы и как их исправить.
  - **Придерживаться Принципов Именования:** Необходимо *выбрать* и *придерживаться* определенного стиля именования для того, чтобы ваш код был читаемым и понятным.
        - *Помните* о регистрозависимости.
  - **Понимать Логику Команд:** *Не просто запоминайте команды*, а старайтесь понять, *что именно они делают* и как они работают.
         - Используйте для этого "Машинно-человеческий_словарь.pdf", (подразумевается шпаргалка преподавателя).
  - **Использовать Шпаргалку `base_R.pdf`:** Шпаргалка "base R" – это *важный справочный материал*, который всегда должен быть под рукой.
  - **Практиковаться:** Для того, чтобы освоить материал, необходимо *постоянно практиковаться* и выполнять упражнения самостоятельно.

### 10.2. Значимость Занятия:
   -  **Основы R:** Это занятие заложило *фундамент* для понимания основных концепций языка R, включая:
      - синтаксис
      - типы данных
      - операторы
      - базовые функции
      - создание векторов
      - основы работы с функциями

